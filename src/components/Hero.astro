---
import { Button } from "@/components/ui/button";
import { MessageCircle } from "lucide-react";
import heroImage from "@/assets/hero-physiotherapy.jpg";
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section
  class="relative min-h-screen flex items-center justify-center overflow-hidden pt-20"
>
  <div
    class="absolute inset-0 z-0"
    style={`background-image: linear-gradient(rgba(25, 110, 127, 0.85), rgba(25, 110, 127, 0.85)), url(${heroImage.src}); background-size: cover; background-position: center;`}
  >
  </div>
  <div class="container mx-auto px-4 z-10 text-center text-white">
    <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight" set:html={t('hero.headline')}>
    </h1>
    <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto opacity-95">
      {t('hero.subheadline')}
    </p>
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <Button
        size="lg"
        className="text-lg px-8 py-6 bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-md shadow-secondary/50 transition-all duration-300"
        client:load
      >
        <MessageCircle className="mr-2 h-5 w-5" />
        {t('hero.bookAppointment')}
      </Button>
      <Button
        size="lg"
        variant="outline"
        id="learn-more-button"
        className="text-lg px-8 py-6 bg-white/10 backdrop-blur-sm border-white text-white hover:bg-white/20 shadow-md shadow-white/50 transition-all duration-300"
        client:load
      >
        {t('hero.learnMore')}
      </Button>
    </div>
  </div>
</section>

<script>
  const whatsAppButton = document.querySelector(".bg-secondary");
  whatsAppButton?.addEventListener("click", () => {
    window.open("https://wa.me/972500000000", "_blank");
  });

  const learnMoreButton = document.querySelector("#learn-more-button");
  learnMoreButton?.addEventListener("click", () => {
    document.getElementById("services")?.scrollIntoView({ behavior: "smooth" });
  });
</script>
